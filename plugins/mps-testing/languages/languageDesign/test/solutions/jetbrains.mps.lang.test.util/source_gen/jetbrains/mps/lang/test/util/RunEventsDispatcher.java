package jetbrains.mps.lang.test.util;

/*Generated by MPS */

import java.util.List;
import java.util.concurrent.CopyOnWriteArrayList;

public class RunEventsDispatcher {
  private List<MpsRunListener> myListeners = new CopyOnWriteArrayList<MpsRunListener>();
  private static RunEventsDispatcher ourInstance = new RunEventsDispatcher();

  private RunEventsDispatcher() {
  }

  public static RunEventsDispatcher getInstance() {
    return ourInstance;
  }

  public void onTestRunDone() {
    if (myListeners != null) {
      for (MpsRunListener listener : myListeners) {
        listener.testRunDone();
      }
    }
  }

  public void addListener(MpsRunListener listener) {
    myListeners.add(listener);
  }

  public void removeListener(MpsRunListener listener) {
    myListeners.remove(listener);
  }
}
