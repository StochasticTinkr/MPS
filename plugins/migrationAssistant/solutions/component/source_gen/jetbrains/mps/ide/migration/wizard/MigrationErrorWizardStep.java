package jetbrains.mps.ide.migration.wizard;

/*Generated by MPS */

import javax.swing.JTextPane;
import javax.swing.JComponent;
import java.awt.Dimension;
import java.awt.BorderLayout;
import jetbrains.mps.ide.ui.util.UIUtil;

public class MigrationErrorWizardStep extends BaseStep {
  public static final String ID = "Problem";
  private JTextPane myInfoLabel;

  private MigrationSession myErrorContainer;

  public MigrationErrorWizardStep(MigrationSession session) {
    super("Could not Apply All Migrations", ID);
    myErrorContainer = session;
  }
  @Override
  protected final void doCreateComponent(JComponent mainPanel) {
    myInfoLabel = new JTextPane();
    this.myInfoLabel.setPreferredSize(new Dimension(300, 220));
    mainPanel.add(this.myInfoLabel, BorderLayout.CENTER);
  }

  @Override
  public void _init() {
    super._init();
    UIUtil.setTextPaneHtmlText(myInfoLabel, myErrorContainer.getErrorDescriptor().getMessage());
  }
  @Override
  public Object getPreviousStepId() {
    return null;
  }
  @Override
  public Object getNextStepId() {
    return null;
  }
  @Override
  public boolean canBeCancelled() {
    return false;
  }
}
