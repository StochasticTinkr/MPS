package jetbrains.mps.ide.migration;

/*Generated by MPS */

import java.util.Collection;
import jetbrains.mps.migration.global.ProjectMigration;
import org.jetbrains.mps.openapi.module.SModule;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.lang.migration.runtime.base.BaseScriptReference;
import jetbrains.mps.migration.global.MigrationOptions;

public interface MigrationRegistry {
  boolean isMigrationRequired();

  Collection<ProjectMigration> getProjectMigrations();
  Collection<ScriptApplied> getModuleMigrations(Iterable<SModule> modules);

  ScriptApplied nextModuleStep(@Nullable BaseScriptReference preferredId);
  ProjectMigration nextProjectStep(MigrationOptions options, boolean cleanup);

  boolean importVersionsUpdateRequired(Iterable<SModule> modules);
  void doUpdateImportVersions(SModule module);
}
