package jetbrains.mps.ide.migration;

/*Generated by MPS */

import jetbrains.mps.migration.global.ProjectMigration;
import java.util.List;
import org.jetbrains.mps.openapi.module.SModule;
import java.util.Map;
import jetbrains.mps.migration.global.ProjectMigrationWithOptions;

public interface MigrationManager {
  boolean isMigrationRequired();

  MigrationComponent getMigrationComponent();

  Iterable<ProjectMigration> getProjectMigrationsToApply();

  List<ScriptApplied.ScriptAppliedReference> getModuleMigrationsToApply(Iterable<SModule> modules);

  List<ScriptApplied.ScriptAppliedReference> getMissingMigrations();

  int projectStepsCount(boolean isCleanup);

  MigrationManager.MigrationStep nextProjectStep(Map<ProjectMigrationWithOptions.Option, Object> options, boolean cleanup);

  int moduleStepsCount();

  MigrationManager.MigrationStep nextModuleStep();

  interface MigrationStep {
    String getDescription();
    boolean execute();
    void forceExecutionNextTime();
  }
}
