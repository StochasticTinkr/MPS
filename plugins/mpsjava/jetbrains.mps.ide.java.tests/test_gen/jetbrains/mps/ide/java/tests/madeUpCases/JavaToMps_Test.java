package jetbrains.mps.ide.java.tests.madeUpCases;

/*Generated by MPS */

import jetbrains.mps.MPSLaunch;
import jetbrains.mps.lang.test.runtime.BaseTransformationTest;
import org.junit.Test;
import jetbrains.mps.lang.test.runtime.BaseTestBody;
import jetbrains.mps.ide.java.tests.utility.Utils;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.smodel.ModuleRepositoryFacade;
import jetbrains.mps.vfs.IFile;
import org.jetbrains.mps.openapi.module.SModule;
import org.jetbrains.mps.openapi.persistence.PersistenceFacade;
import jetbrains.mps.project.AbstractModule;

@MPSLaunch
public class JavaToMps_Test extends BaseTransformationTest {
  @Test
  public void test_SelfRef() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_SelfRef", true);
  }
  @Test
  public void test_ClassWInnerInterace() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_ClassWInnerInterace", true);
  }
  @Test
  public void test_Imports1() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_Imports1", true);
  }
  @Test
  public void test_Imports2() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_Imports2", true);
  }
  @Test
  public void test_Imports3() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_Imports3", true);
  }
  @Test
  public void test_Annotations() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_Annotations", true);
  }
  @Test
  public void test_ClassNesting() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_ClassNesting", true);
  }
  @Test
  public void test_FullSource() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_FullSource", true);
  }
  @Test
  public void test_LittleSource() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_LittleSource", true);
  }
  @Test
  public void test_ByteCodeVsSourceStubs() throws Throwable {
    initTest("${mps_home}", "r:62acf462-bd7b-40b0-b72a-892ef900fe37(jetbrains.mps.ide.java.tests.madeUpCases@tests)", false);
    runTest("jetbrains.mps.ide.java.tests.madeUpCases.JavaToMps_Test$TestBody", "test_ByteCodeVsSourceStubs", true);
  }

  @MPSLaunch
  public static class TestBody extends BaseTestBody {
    public void test_SelfRef() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      Utils.checkFile(this.testsLocation().getDescendant("singleFiles/selfref"), SNodeOperations.cast(getNodeById("4795297196607521155"), SNodeOperations.asSConcept(MetaAdapterFactory.getConcept(MetaAdapterFactory.getLanguage(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, "jetbrains.mps.baseLanguage"), 0xf8c108ca66L, "ClassConcept"))));
    }
    public void test_ClassWInnerInterace() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      Utils.checkFile(this.testsLocation().getDescendant("singleFiles/classwiface"), SNodeOperations.cast(getNodeById("1218582063869484741"), SNodeOperations.asSConcept(MetaAdapterFactory.getConcept(MetaAdapterFactory.getLanguage(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, "jetbrains.mps.baseLanguage"), 0xf8c108ca66L, "ClassConcept"))));
    }
    public void test_Imports1() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      Utils.checkStubModels(this.testsLocation().getDescendant("testDir1"), ListSequence.fromListAndArray(new ArrayList<SModel>(), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.testModel1"), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.testModel1.sub")));
    }
    public void test_Imports2() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      Utils.checkStubModels(this.testsLocation().getDescendant("testDir2"), ListSequence.fromListAndArray(new ArrayList<SModel>(), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.testModel2"), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.testModel2.sub")));
    }
    public void test_Imports3() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      Utils.checkStubModels(this.testsLocation().getDescendant("testDir3"), ListSequence.fromListAndArray(new ArrayList<SModel>(), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.testModel3"), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.testModel3.sub")));
    }
    public void test_Annotations() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      Utils.checkStubModels(this.testsLocation().getDescendant("testDirAnnotations"), ListSequence.fromListAndArray(new ArrayList<SModel>(), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.annotations"), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.annotations.user")));
    }
    public void test_ClassNesting() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      Utils.checkFile(this.testsLocation().getDescendant("singleFiles/nestContainer"), SNodeOperations.cast(getNodeById("8083368042256419834"), SNodeOperations.asSConcept(MetaAdapterFactory.getConcept(MetaAdapterFactory.getLanguage(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, "jetbrains.mps.baseLanguage"), 0xf8c108ca66L, "ClassConcept"))));
    }
    public void test_FullSource() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
    }
    public void test_LittleSource() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      Utils.checkSourceModel(myProject, this.testsLocation().getDescendant("singleFiles/statements"), new ModuleRepositoryFacade(myProject.getRepository()).getModelByName("jetbrains.mps.ide.java.testMaterial.singleFiles"));
    }
    public void test_ByteCodeVsSourceStubs() throws Exception {
      addNodeById("4795297196607520929");
      addNodeById("1218582063869484737");
      addNodeById("8083368042256419833");
      String guavaPath = this.testsLocation() + "realCodeBase/google-guava/";
      new Utils(myProject.getRepository()).compareBinAndSrcStubs(guavaPath + "guava-12.0.1.jar", guavaPath + "src");
    }


    public IFile testsLocation() {
      SModule testMaterial = PersistenceFacade.getInstance().createModuleReference("49166c31-952a-46f6-8970-ea45964379d0(jetbrains.mps.ide.java.testMaterial)").resolve(myProject.getRepository());
      return ((AbstractModule) testMaterial).getOutputPath();
    }
  }
}
