package jetbrains.mps.ide.modelchecker.platform.actions;

/*Generated by MPS */

import java.util.List;
import jetbrains.mps.errors.item.IssueKindReportItem;
import org.jetbrains.mps.openapi.model.SModel;
import org.jetbrains.mps.openapi.util.ProgressMonitor;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import jetbrains.mps.project.validation.ValidationUtil;
import org.jetbrains.mps.openapi.util.Processor;
import jetbrains.mps.errors.item.ModelReportItem;

public class ModelPropertiesChecker extends SpecificChecker {
  @Override
  public List<? extends IssueKindReportItem> checkModel(final SModel model, ProgressMonitor monitor) {
    monitor.start("model properties", 1);

    final List<IssueKindReportItem> results = ListSequence.fromList(new ArrayList<IssueKindReportItem>());

    ValidationUtil.validateModel(model, new Processor<ModelReportItem>() {
      public boolean process(final ModelReportItem problem) {
        ListSequence.fromList(results).addElement(problem);
        return true;
      }
    });
    monitor.done();
    return results;
  }
}
