package jetbrains.mps.execution.configurations.implementation.plugin.plugin;

/*Generated by MPS */

import jetbrains.mps.execution.api.settings.SettingsEditorEx;
import jetbrains.mps.baseLanguage.unitTest.execution.settings.JUnitSettings_Configuration_Editor;
import jetbrains.mps.baseLanguage.execution.api.JavaRunParameters1_Configuration_Editor;
import com.intellij.openapi.util.Disposer;
import org.jetbrains.annotations.NotNull;
import javax.swing.JPanel;
import java.awt.GridBagLayout;
import jetbrains.mps.baseLanguage.execution.api.JavaConfigurationEditorComponent;
import jetbrains.mps.baseLanguage.unitTest.execution.settings.JUnitConfigurationEditorComponent;
import jetbrains.mps.ide.common.LayoutUtil;
import com.intellij.openapi.options.ConfigurationException;

public class JUnitTests_Configuration_Editor extends SettingsEditorEx<JUnitTests_Configuration> {
  private JUnitSettings_Configuration_Editor myJUnitSettings;
  private JavaRunParameters1_Configuration_Editor myJavaRunParameters;
  public void disposeEditor() {
    myJUnitSettings.dispose();
    Disposer.dispose(myJUnitSettings);
    Disposer.dispose(myJavaRunParameters);
  }
  @NotNull
  public JPanel createEditor() {
    JPanel panel = new JPanel(new GridBagLayout());

    JavaConfigurationEditorComponent javaEditorComponent = myJavaRunParameters.createEditor();
    JUnitConfigurationEditorComponent junitEditorComponent = myJUnitSettings.createEditor();
    junitEditorComponent.attachJavaComponent(javaEditorComponent);
    panel.add(junitEditorComponent, LayoutUtil.createPanelConstraints(0));
    panel.add(javaEditorComponent, LayoutUtil.createPanelConstraints(1));
    return panel;
  }
  public void applyEditorTo(final JUnitTests_Configuration configuration) throws ConfigurationException {
    myJavaRunParameters.applyEditorTo(configuration.getJavaRunParameters());
    myJUnitSettings.applyEditorTo(configuration.getJUnitSettings());
  }
  public void resetEditorFrom(final JUnitTests_Configuration configuration) {
    myJavaRunParameters.resetEditorFrom(configuration.getJavaRunParameters());
    myJUnitSettings.resetEditorFrom(configuration.getJUnitSettings());
  }
  public JUnitTests_Configuration_Editor(JUnitSettings_Configuration_Editor jUnitSettings, JavaRunParameters1_Configuration_Editor javaRunParameters) {
    myJUnitSettings = jUnitSettings;
    myJavaRunParameters = javaRunParameters;
  }
}
