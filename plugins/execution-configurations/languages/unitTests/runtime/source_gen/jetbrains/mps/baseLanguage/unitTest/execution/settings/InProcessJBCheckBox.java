package jetbrains.mps.baseLanguage.unitTest.execution.settings;

/*Generated by MPS */

import com.intellij.ui.components.JBCheckBox;
import java.util.List;
import java.awt.Component;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.LinkedList;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import jetbrains.mps.internal.collections.runtime.Sequence;

public class InProcessJBCheckBox extends JBCheckBox {
  private List<Component> myComponents = ListSequence.fromList(new LinkedList<Component>());

  public InProcessJBCheckBox(String text, boolean selected) {
    super(text, selected);
    this.addActionListener(new ActionListener() {
      public void actionPerformed(ActionEvent p0) {
        InProcessJBCheckBox.this.update();
      }
    });
  }

  public void registerComponents(Iterable<Component> components) {
    ListSequence.fromList(myComponents).addSequence(Sequence.fromIterable(components));
  }

  public void registerComponent(Component component) {
    ListSequence.fromList(myComponents).addElement(component);
  }

  public void update() {
    final boolean vmOptionsEnabled = !(this.isSelected());
    for (Component comp : ListSequence.fromList(myComponents)) {
      comp.setEnabled(vmOptionsEnabled);
    }
  }
}
