package jetbrains.mps.baseLanguage.unitTest.execution.tool;

/*Generated by MPS */

import org.jetbrains.annotations.NotNull;
import jetbrains.mps.baseLanguage.unitTest.execution.TextTestEvent;
import org.jetbrains.mps.annotations.ImmutableReturn;
import java.util.List;

/*package*/ interface MessagesContainer<MSG extends TestMessage> extends Printable {

  /**
   * places a new message after parsing the text event
   * 
   * @throws MessagesContainer.EventIsNotAcceptedException iff #accepts is not true for the given event
   */
  @NotNull
  TestMessage addMessage(@NotNull TextTestEvent textEvent);

  @NotNull
  @ImmutableReturn
  List<MSG> getChildren();

  /**
   * defines whether this message container accepts the test event
   * the relation is transitive
   */
  boolean accepts(@NotNull TextTestEvent event);

  final class EventIsNotAcceptedException extends IllegalArgumentException {
    public EventIsNotAcceptedException(@NotNull TextTestEvent event) {
      super("Event: " + event + " is not accepted");
    }
  }
}
