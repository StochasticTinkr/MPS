package jetbrains.mps.baseLanguage.unitTest.execution.server;

/*Generated by MPS */

import org.junit.runner.Runner;
import org.jetbrains.annotations.NotNull;
import org.junit.runner.Description;
import org.junit.runner.notification.RunNotifier;
import org.junit.runner.notification.Failure;

public final class AssumptionFailedRunner extends Runner {
  @NotNull
  private final Description myTestDescription;
  private final Throwable myFailure;

  public AssumptionFailedRunner(Throwable failure, @NotNull Description testDescription) {
    myTestDescription = testDescription;
    myFailure = failure;
  }

  @Override
  public Description getDescription() {
    return myTestDescription;
  }

  @Override
  public void run(RunNotifier notifier) {
    Description description = getDescription();
    notifier.fireTestStarted(description);
    notifier.fireTestAssumptionFailed(new Failure(description, myFailure));
    notifier.fireTestFinished(description);
  }
}
