package jetbrains.mps.ide.httpsupport.manager.plugin;

/*Generated by MPS */

import org.jetbrains.io.CustomPortServerManagerBase;
import org.apache.log4j.Logger;
import org.apache.log4j.LogManager;
import org.apache.log4j.Level;

public class MPSInternalPortManager extends CustomPortServerManagerBase {
  private static final Logger LOG = LogManager.getLogger(MPSInternalPortManager.class);

  public static final int PORT = 63320;

  @Override
  public int getPort() {
    return PORT;
  }

  @Override
  public void cannotBind(Exception e, int port) {
    if (LOG.isEnabledFor(Level.ERROR)) {
      LOG.error("Cannot bind to port " + port + ". Internal HTTP Support Plugin features are disabled.");
    }
  }

  @Override
  public boolean isAvailableExternally() {
    return true;
  }

  public static boolean isEnabled() {
    return EP_NAME.findExtension(MPSInternalPortManager.class).isBound();
  }
}
