package jetbrains.mps.checkers;

/*Generated by MPS */

import jetbrains.mps.errors.item.ModuleReportItem;
import org.jetbrains.mps.openapi.module.SModule;
import org.jetbrains.mps.openapi.module.SRepository;
import org.jetbrains.mps.openapi.util.Consumer;
import org.jetbrains.mps.openapi.util.ProgressMonitor;
import jetbrains.mps.project.validation.ValidationUtil;
import org.jetbrains.mps.openapi.util.Processor;
import jetbrains.mps.project.validation.ModuleValidationProblem;

public class ModuleChecker extends IChecker.AbstractModuleChecker<ModuleReportItem> {
  public ModuleChecker() {
  }

  @Override
  public String getCategory() {
    return "module properties";
  }
  @Override
  public void check(SModule module, SRepository repository, final Consumer<? super ModuleReportItem> errorCollector, final ProgressMonitor monitor) {
    ValidationUtil.validateModule(module, new Processor<ModuleValidationProblem>() {
      public boolean process(ModuleValidationProblem vp) {
        errorCollector.consume((ModuleReportItem) vp);
        return !(monitor.isCanceled());
      }
    });
  }
}
