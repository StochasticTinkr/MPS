package jetbrains.mps.scope;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SModel;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import java.util.Collection;
import java.util.Collections;
import java.util.ArrayList;
import jetbrains.mps.smodel.SModelOperations;

public class ModelPlusImportedScope extends ModelsScope {
  public ModelPlusImportedScope(SModel model, boolean rootsOnly, SAbstractConcept targetConcept) {
    super(getImportedModels(model), rootsOnly, targetConcept);
  }

  private static Collection<SModel> getImportedModels(SModel model) {
    if (model == null) {
      return Collections.emptyList();
    }
    ArrayList<SModel> models = new ArrayList<SModel>();
    models.add(model);
    // left deprecated call as there's some compatibility code (use of global repository) 
    models.addAll(SModelOperations.allImportedModels(model));
    return models;
  }
}
