package jetbrains.mps.baseLanguage.logging.runtime.model;

/*Generated by MPS */

import org.apache.log4j.Logger;
import org.apache.log4j.LogManager;
import org.jetbrains.annotations.NotNull;
import org.apache.log4j.Level;
import org.jetbrains.annotations.Nullable;
import org.jetbrains.mps.openapi.project.Project;
import jetbrains.mps.logging.MessageObject;

public final class LoggingRuntime {
  private static final String MSG_VIEW_TOKEN = "###MESSAGES_VIEW_TOKEN###";
  private static final Logger MSG_VIEW_LOG = LogManager.getLogger(MSG_VIEW_TOKEN);

  @Deprecated
  public static void legacyLog(@NotNull Level level, String msg, @NotNull Class<?> sender, @Nullable Throwable throwable) {
    LogManager.getLogger(sender).log(level, msg, throwable);
    logMsgView(level, msg, sender, throwable, null);
  }

  public static void logMsgView(@NotNull Level level, String msg, @NotNull Class<?> sender, @Nullable Throwable throwable, @Nullable Project project) {
    MessageObject msgObject = new MessageObject(msg, null, sender.toString(), project);
    MSG_VIEW_LOG.log(level, msgObject, throwable);
  }
}
