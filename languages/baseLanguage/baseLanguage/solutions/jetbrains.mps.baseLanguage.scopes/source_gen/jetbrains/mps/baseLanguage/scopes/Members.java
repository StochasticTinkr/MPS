package jetbrains.mps.baseLanguage.scopes;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.baseLanguage.behavior.IClassifierType__BehaviorDescriptor;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.baseLanguage.behavior.IClassifier__BehaviorDescriptor;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.internal.collections.runtime.IWhereFilter;
import jetbrains.mps.baseLanguage.behavior.IClassifierMember__BehaviorDescriptor;

public class Members {
  private Members() {
    // todo: extension methods? 
  }
  public static Iterable<SNode> visibleInstanceFields(SNode classifierType, SNode contextNode) {
    return visible(SNodeOperations.ofConcept(IClassifierType__BehaviorDescriptor.getMembers_id6r77ob2V1Fr.invoke(classifierType), MetaAdapterFactory.getConcept(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf8c108ca68L, "jetbrains.mps.baseLanguage.structure.FieldDeclaration")), classifierType, contextNode);
  }
  public static Iterable<SNode> visibleStaticFields(SNode classifier, SNode contextNode) {
    SNode cType = IClassifier__BehaviorDescriptor.getThisType_id6r77ob2UWbY.invoke(classifier);
    return visible(SNodeOperations.ofConcept(IClassifierType__BehaviorDescriptor.getMembers_id6r77ob2V1Fr.invoke(cType), MetaAdapterFactory.getConcept(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf93c84351fL, "jetbrains.mps.baseLanguage.structure.StaticFieldDeclaration")), cType, contextNode);
  }
  public static Iterable<SNode> visibleInstanceMethods(SNode classifierType, SNode contextNode) {
    return visible(SNodeOperations.ofConcept(IClassifierType__BehaviorDescriptor.getMembers_id6r77ob2V1Fr.invoke(classifierType), MetaAdapterFactory.getConcept(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf8cc56b21dL, "jetbrains.mps.baseLanguage.structure.InstanceMethodDeclaration")), classifierType, contextNode);
  }
  public static Iterable<SNode> visibleStaticMethods(SNode classifier, SNode contextNode) {
    SNode cType = IClassifier__BehaviorDescriptor.getThisType_id6r77ob2UWbY.invoke(classifier);
    return visible(SNodeOperations.ofConcept(IClassifierType__BehaviorDescriptor.getMembers_id6r77ob2V1Fr.invoke(cType), MetaAdapterFactory.getConcept(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xfbbebabf0aL, "jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration")), cType, contextNode);
  }
  public static Iterable<SNode> visibleClassifiers(SNode classifier, SNode contextNode) {
    SNode cType = IClassifier__BehaviorDescriptor.getThisType_id6r77ob2UWbY.invoke(classifier);
    return visible(SNodeOperations.ofConcept(IClassifierType__BehaviorDescriptor.getMembers_id6r77ob2V1Fr.invoke(cType), MetaAdapterFactory.getConcept(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0x101d9d3ca30L, "jetbrains.mps.baseLanguage.structure.Classifier")), cType, contextNode);
  }
  public static Iterable<SNode> visibleEnumConstants(SNode classifier) {
    return SNodeOperations.ofConcept(IClassifierType__BehaviorDescriptor.getMembers_id6r77ob2V1Fr.invoke(IClassifier__BehaviorDescriptor.getThisType_id6r77ob2UWbY.invoke(classifier)), MetaAdapterFactory.getConcept(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xfc367388b3L, "jetbrains.mps.baseLanguage.structure.EnumConstantDeclaration"));
  }

  private static <AAA extends SNode> Iterable<AAA> visible(Iterable<AAA> seq, final SNode cType, final SNode contextNode) {
    return Sequence.fromIterable(seq).where(new IWhereFilter<AAA>() {
      public boolean accept(AAA it) {
        return (boolean) IClassifierMember__BehaviorDescriptor.isVisible_id5laDzmpBPv8.invoke(it, cType, contextNode);
      }
    });
  }
}
