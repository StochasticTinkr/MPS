package jetbrains.mps.lang.intentions.contextAssistant.runtime;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.menus.transformation.TransformationMenuContext;
import jetbrains.mps.intentions.IntentionExecutable;
import jetbrains.mps.openapi.editor.menus.transformation.ActionItemBase;
import org.jetbrains.annotations.Nullable;
import org.jetbrains.annotations.NotNull;

public class IntentionMenuPart extends IntentionMenuPartBase {
  public IntentionMenuPart(String intentionId) {
    super(intentionId);
  }

  @Override
  protected IntentionMenuPart.Item createItem(TransformationMenuContext context, IntentionExecutable executable) {
    return new IntentionMenuPart.Item(context, executable);
  }

  private class Item extends ActionItemBase {
    private final TransformationMenuContext _context;
    private final IntentionExecutable myExecutable;

    private Item(TransformationMenuContext context, IntentionExecutable executable) {
      _context = context;
      myExecutable = executable;
    }

    @Nullable
    @Override
    public String getLabelText(@NotNull String pattern) {
      return myExecutable.getDescription(_context.getNode(), _context.getEditorContext());
    }

    @Override
    public void execute(@NotNull String pattern) {
      myExecutable.execute(_context.getNode(), _context.getEditorContext());
    }
  }
}
