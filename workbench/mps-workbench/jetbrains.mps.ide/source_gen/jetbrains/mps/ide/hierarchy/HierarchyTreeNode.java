package jetbrains.mps.ide.hierarchy;

/*Generated by MPS */

import jetbrains.mps.ide.ui.tree.MPSTreeNode;
import org.jetbrains.mps.openapi.model.SNodeReference;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import jetbrains.mps.ide.icons.GlobalIconManager;

public class HierarchyTreeNode extends MPSTreeNode {
  private final SNodeReference myNodeRef;

  public HierarchyTreeNode(@NotNull SNode declaration) {
    super(declaration);
    //  note, for node<> coming from typesystem (hung in the air), pointer likely to be null/null 
    myNodeRef = SNodeOperations.getPointer(declaration);
    String name = declaration.getName();
    setText((name == null ? "no name" : name));
    setNodeIdentifier(declaration.getNodeId().toString());
    setToggleClickCount(-1);
    setAutoExpandable(false);
    setAdditionalText(SModelOperations.getModelName(SNodeOperations.getModel(declaration)));
    setIcon(GlobalIconManager.getInstance().getIconFor(declaration));
  }

  @NotNull
  public SNodeReference getNodeReference() {
    return myNodeRef;
  }
}
