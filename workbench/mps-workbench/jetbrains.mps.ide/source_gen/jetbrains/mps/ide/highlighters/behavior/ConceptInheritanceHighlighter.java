package jetbrains.mps.ide.highlighters.behavior;

/*Generated by MPS */

import com.intellij.openapi.components.ProjectComponent;
import jetbrains.mps.project.MPSProject;
import jetbrains.mps.ide.highlighters.structure.OverrideConceptsChecker;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.nodeEditor.Highlighter;

/**
 * Switch on the highlighters for concept methods (overridden/implementing methods)
 */
public final class ConceptInheritanceHighlighter implements ProjectComponent {
  private final MPSProject myProject;

  private final OverrideConceptMethodsChecker myBehaviorChecker;
  private final OverrideConceptsChecker myStructureChecker;

  public ConceptInheritanceHighlighter(@NotNull MPSProject project) {
    myProject = project;
    myBehaviorChecker = new OverrideConceptMethodsChecker(project);
    myStructureChecker = new OverrideConceptsChecker(project);
  }

  private Highlighter getHighlighter() {
    return myProject.getComponent(Highlighter.class);
  }

  @Override
  public void initComponent() {
    getHighlighter().addChecker(myStructureChecker);
    getHighlighter().addChecker(myBehaviorChecker);
  }

  @Override
  public void disposeComponent() {
    getHighlighter().removeChecker(myBehaviorChecker);
    getHighlighter().removeChecker(myStructureChecker);
  }
}
