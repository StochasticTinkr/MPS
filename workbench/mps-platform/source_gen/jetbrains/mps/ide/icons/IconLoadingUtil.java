package jetbrains.mps.ide.icons;

/*Generated by MPS */

import javax.swing.Icon;
import com.intellij.openapi.util.IconLoader;

public class IconLoadingUtil {
  /**
   * resource parameter has the same contract as the Class.getResource(String)'s parameter \n
   */
  public static Icon loadIcon(String resource, Class loader) {
    boolean isAbsolutePath = resource.startsWith("/");
    if (isAbsolutePath) {
      return IconLoader.findIcon(resource, loader.getClassLoader());
    }

    String packName = loader.getPackage().getName();
    String resourcePath = (packName.isEmpty() ? "/" + resource : "/" + packName.replace('.', '/') + "/" + resource);
    return IconLoader.findIcon(resourcePath, loader.getClassLoader());
  }
}
