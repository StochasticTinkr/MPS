package jetbrains.mps.refactoring.test.test;

/*Generated by MPS */

import jetbrains.mps.testbench.EnvironmentAwareTestCase;
import jetbrains.mps.project.Project;
import jetbrains.mps.util.NameUtil;
import java.io.File;
import java.nio.file.Files;
import jetbrains.mps.util.FileUtil;
import java.io.IOException;

public abstract class AbstractRefactoringTest_Test extends EnvironmentAwareTestCase {
  protected Project project;
  private String projectTempDir;
  private String projectSourcePath;
  public void setUp() {
    try {
      projectTempDir = NameUtil.toConstantName(NameUtil.toValidIdentifier(this.getName()));
      File tempDir = Files.createTempDirectory(projectTempDir).toFile();
      FileUtil.copyDir(new File(projectSourcePath), tempDir);
      project = myEnvironment.openProject(tempDir);
    } catch (IOException e) {
      throw new RuntimeException(e);
    }
  }
  public void tearDown() {
    myEnvironment.closeProject(project);
    new File(projectTempDir).delete();
  }
  public AbstractRefactoringTest_Test(String path) {
    projectSourcePath = path;
  }
}
