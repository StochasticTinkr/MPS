package jetbrains.mps.lang.editor.completion.test;

/*Generated by MPS */

import jetbrains.mps.MPSLaunch;
import jetbrains.mps.lang.test.runtime.BaseTransformationTest;
import org.junit.Test;
import jetbrains.mps.lang.test.runtime.BaseEditorTestBody;
import junit.framework.Assert;
import jetbrains.mps.openapi.editor.cells.SubstituteAction;
import jetbrains.mps.ide.editor.MPSEditorDataKeys;
import jetbrains.mps.openapi.editor.menus.EditorMenuTraceInfo;
import jetbrains.mps.openapi.editor.menus.EditorMenuDescriptor;
import jetbrains.mps.smodel.SNodePointer;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;

@MPSLaunch
public class TestEditorMenuDescriptor_Test extends BaseTransformationTest {
  @Test
  public void test_TestEditorMenuDescriptor() throws Throwable {
    initTest("", "r:f27d9626-8ef5-4cba-bce0-6aa6369f05ff(jetbrains.mps.lang.editor.completion.test)");
    runTest("jetbrains.mps.lang.editor.completion.test.TestEditorMenuDescriptor_Test$TestBody", "testMethod", false);
  }

  @MPSLaunch
  public static class TestBody extends BaseEditorTestBody {
    @Override
    public void testMethodImpl() throws Exception {
      initEditorComponent("6292171174659934768", "6292171174659934770");
      invokeAction("jetbrains.mps.ide.editor.actions.Complete_Action");
      typeString("ful");
      Assert.assertTrue(getEditorComponent().getNodeSubstituteChooser().isVisible());
      SubstituteAction action = (SubstituteAction) getEditorComponent().getData(MPSEditorDataKeys.SUBSTITUTE_ACTION.getName());
      Assert.assertTrue(action != null);
      EditorMenuTraceInfo editorMenuTraceInfo = action.getEditorMenuTraceInfo();
      Assert.assertTrue(editorMenuTraceInfo != null);
      EditorMenuDescriptor menuDescriptor = editorMenuTraceInfo.getMenuDescriptor();
      Assert.assertTrue(menuDescriptor != null);
      EditorMenuTraceInfo parent = editorMenuTraceInfo.getParent();
      menuDescriptor = parent.getMenuDescriptor();
      Assert.assertTrue(eq_mm5do2_a0a21a0c(menuDescriptor.getSource(), new SNodePointer("r:12055fd0-2d7f-4ac3-93ec-28bb09579a63(jetbrains.mps.lang.editor.editorTest.editor)", "6292171174658974690")));
      pressKeys(ListSequence.fromListAndArray(new ArrayList<String>(), " ENTER"));



    }
    private static boolean eq_mm5do2_a0a21a0c(Object a, Object b) {
      return (a != null ? a.equals(b) : a == b);
    }
  }
}
